(()=>{"use strict";const e=e=>{const t=e.getAttribute("href").substring(1),o=document.getElementById(t);o&&o.scrollIntoView({behavior:"smooth",block:"start"})};class t{constructor({modalSelector:e,...t}){this.modal=document.querySelector(e),this.modal&&this.init(t)}init({bodySelector:e,closeBtnSelector:t,modalLinkSelector:o}){this.body=this.modal.querySelector(e),this.closeBtn=this.modal.querySelector(t),this.modal.addEventListener("click",(e=>{e.preventDefault();const{target:t}=e;t===this.closeBtn&&this.toggle(!1)})),document.addEventListener("click",(e=>{e.preventDefault();const{target:t}=e;t.matches(o)&&this.toggle(!0)}))}toggle(e){this.modal.style.visibility=e?"visible":"hidden"}}new class extends t{constructor(){super({modalSelector:".popup-repair-types",modalLinkSelector:".repair-types-list",bodySelector:".dialog-repair-types",closeBtnSelector:".close"})}},new class extends t{constructor(){super({modalSelector:".popup-privacy",modalLinkSelector:".link-privacy",bodySelector:".popup-dialog-privacy",closeBtnSelector:".close"})}},(()=>{const t=document.querySelector("header");(e=>{const t=e.querySelector(".header-contacts__phone-number-wrap"),o=e.querySelector(".header-contacts__phone-number-accord"),s=o.querySelector(".header-contacts__phone-number");e.addEventListener("click",(e=>{const{target:r}=e;if(r.closest(".header-contacts__arrow")){const{height:e}=getComputedStyle(t),l=o.classList.toggle("active"),{top:c,opacity:n,transform:a}=((e,t)=>e?{top:t,opacity:1,transform:"rotate(180deg)"}:{top:0,opacity:0,transform:"none"})(l,e);r.style.transform=a,o.style.top=c,s.style.opacity=n}}))})(t),(t=>{const o=document.querySelector(".popup-menu"),s=o.querySelector(".popup-dialog-menu"),r=(e="close")=>{let t;"toggle"===e?t=o.classList.toggle("active"):"close"===e&&(o.classList.remove("active"),t=!1);const r=window.outerWidth,{width:l}=getComputedStyle(s);r>=576?s.style.right=t?l:0:s.style.top=t?"100vh":0};t.addEventListener("click",(e=>{const{target:t}=e;t.matches(".menu__icon")&&r("toggle")})),o.addEventListener("click",(t=>{t.preventDefault();const{target:o}=t;o.matches(".close-menu")&&r("close"),o.matches(".menu-link")&&(r("close"),o.closest(".popup-menu-nav__item")&&e(o))}))})(t)})(),(()=>{const e=e=>{const t=new RegExp("[^\\d]+","g");return e.replace(t,"").substring(0,11)};document.addEventListener("input",(t=>{const{target:o}=t;if(o.matches('input[name="phone"]')){const{value:t}=o,s=e(t),r=(e,t)=>s.substring(e,t),l=s.length;l<=4?o.value=`+7 (${r(1,4)}`:l>4&&l<=7?o.value=`+7 (${r(1,4)}) ${r(4,7)}`:l>7&&l<=9?o.value=`+7 (${r(1,4)}) ${r(4,7)}-${r(7,9)}`:l>9&&(o.value=`+7 (${r(1,4)}) ${r(4,7)}-${r(7,9)}-${r(9,11)}`)}})),document.addEventListener("focusin",(t=>{const{target:o}=t;o.matches('input[name="phone"]')&&e(o.value).length<=1&&(o.value="+7 (")})),document.addEventListener("focusout",(t=>{const{target:o}=t;o.matches('input[name="phone"]')&&e(o.value).length<=1&&(o.value="")}))})(),(()=>{const e=document.getElementById("formula"),t=window.outerWidth>1024?e.querySelector(".wrapper_small.tablet-hide"):e.querySelector(".wrapper_small.desktop-hide"),o=(e,t)=>{const o=e.querySelector(".formula-item-popup"),s=parseFloat(getComputedStyle(o).getPropertyValue("height")),r=parseFloat(getComputedStyle(e).getPropertyValue("height")),{top:l}=o.getBoundingClientRect();let c;l>0?(c="top",o.classList.remove("bottom")):(c="bottom",o.classList.add("bottom"));const{opacity:n,visibility:a,transform:i}=((e,t)=>{let o;if("show"===e){if(o={opacity:"1",visibility:"visible"},"bottom"===t){const e=s+r+15;o={...o,transform:`translate3d(0, ${e}px, 0)`}}}else"hide"===e&&(o={opacity:"0.1",visibility:"hidden",transform:"translate3d(0, -5px, 0)"});return o})(t,c);o.style.opacity=n,o.style.visibility=a,o.style.transform=i};t.addEventListener("mouseover",(e=>{const{target:t}=e,s=t.closest(".formula-item__icon");if(s){const e=s.closest(".formula-item");e.style.zIndex="2",o(e,"show")}})),t.addEventListener("mouseout",(e=>{const{target:t}=e,s=t.closest(".formula-item__icon");if(s){const e=s.closest(".formula-item");e.style.zIndex="0",o(e,"hide")}}))})(),document.querySelector(".footer .button-footer").addEventListener("click",(t=>{t.preventDefault();const{target:o}=t;o.closest(".button-footer")&&e(o)}))})();