(()=>{"use strict";const e=e=>{const t=e.getAttribute("href").substring(1),o=document.getElementById(t);o&&o.scrollIntoView({behavior:"smooth",block:"start"})};new class extends class{constructor({modalSelector:e,...t}){this.modal=document.querySelector(".popup-repair-types"),this.modal&&this.init(t)}init({bodySelector:e,closeBtnSelector:t,modalLinkSelector:o}){this.body=this.modal.querySelector(e),this.closeBtn=this.modal.querySelector(t),this.modal.addEventListener("click",(e=>{e.preventDefault();const{target:t}=e;t===this.closeBtn&&this.toggle(!1)})),document.addEventListener("click",(e=>{e.preventDefault();const{target:t}=e;t.matches(o)&&this.toggle(!0)}))}toggle(e){this.modal.style.visibility=e?"visible":"hidden"}}{constructor(){super({modalSelector:".popup-repair-types",modalLinkSelector:".repair-types-list",bodySelector:".dialog-repair-types",closeBtnSelector:".close"})}},(()=>{const t=document.querySelector("header");(e=>{const t=e.querySelector(".header-contacts__phone-number-wrap"),o=e.querySelector(".header-contacts__phone-number-accord"),s=o.querySelector(".header-contacts__phone-number");e.addEventListener("click",(e=>{const{target:n}=e;if(n.closest(".header-contacts__arrow")){const{height:e}=getComputedStyle(t),c=o.classList.toggle("active");console.log(c);const{top:r,opacity:l,transform:a}=((e,t)=>e?{top:t,opacity:1,transform:"rotate(180deg)"}:{top:0,opacity:0,transform:"none"})(c,e);n.style.transform=a,o.style.top=r,s.style.opacity=l}}))})(t),(t=>{const o=document.querySelector(".popup-menu"),s=o.querySelector(".popup-dialog-menu"),n=(e="close")=>{let t;"toggle"===e?t=o.classList.toggle("active"):"close"===e&&(o.classList.remove("active"),t=!1);const n=window.outerWidth,{width:c}=getComputedStyle(s);n>=576?s.style.right=t?c:0:s.style.top=t?"100vh":0};t.addEventListener("click",(e=>{const{target:t}=e;t.matches(".menu__icon")&&n("toggle")})),o.addEventListener("click",(t=>{t.preventDefault();const{target:o}=t;o.matches(".close-menu")&&n("close"),o.matches(".menu-link")&&(n("close"),o.closest(".popup-menu-nav__item")&&e(o))}))})(t)})(),document.querySelector(".footer .button-footer").addEventListener("click",(t=>{t.preventDefault();const{target:o}=t;o.closest(".button-footer")&&e(o)})),(()=>{const e=e=>{const t=new RegExp("[^\\d]+","g");return e.replace(t,"").substring(0,11)};document.addEventListener("input",(t=>{const{target:o}=t;if(o.matches('input[name="phone"]')){const{value:t}=o,s=e(t),n=(e,t)=>s.substring(e,t),c=s.length;c<=4?o.value=`+7 (${n(1,4)}`:c>4&&c<=7?o.value=`+7 (${n(1,4)}) ${n(4,7)}`:c>7&&c<=9?o.value=`+7 (${n(1,4)}) ${n(4,7)}-${n(7,9)}`:c>9&&(o.value=`+7 (${n(1,4)}) ${n(4,7)}-${n(7,9)}-${n(9,11)}`)}})),document.addEventListener("focusin",(t=>{const{target:o}=t;o.matches('input[name="phone"]')&&e(o.value).length<=1&&(o.value="+7 (")})),document.addEventListener("focusout",(t=>{const{target:o}=t;o.matches('input[name="phone"]')&&e(o.value).length<=1&&(o.value="")}))})()})();